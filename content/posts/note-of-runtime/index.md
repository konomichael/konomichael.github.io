---

title: "关于Runtime的一些笔记"
date: 2021-05-04T17:03:43+08:00
draft: false
categories: ["cs"]
tags: ["note"]

---

前几日学前端的室友问我到底什么是Runtime，我随口回答到就是运行时呗。他又追问那什么是运行时，我答道就是你那段程序运行时所需要的一切，比如一段js在浏览器中被解释执行，这个浏览器就可以看成运行时，它提供了js中网络请求，操作文档树等能力。室友回道就这，你直接说v8我就懂了，还弄什么运行时这些名词。现在想来我的回答还是有些片面。

<!--more-->

## 什么是运行时?

运行时是**一段实现编程语言执行模型的代码**，它允许程序与其所需的计算资源进行交互。运行时通常是编程语言的重要组成部分，无需单独安装。

运行时也指**程序正在运行的时候**，即当你在计算机上启动一个程序时，对于该程序来说就是运行时。在一些编程语言中，某些可重复使用的程序会作为「运行时库」构建和打包。这些例程可以在程序运行时链接和使用。

程序员有时会区分在编译程序时嵌入到程序中的内容和在**运行时嵌入或使用的内容**，前者有时称为`编译时`。

## 运行时如何工作？

运行时是编程生命周期的一个阶段。这是程序与执行所需的所有外部指令一起运行的时间。其中一些外部指令称为`运行时系统`或`运行时环境`，是编程语言的重要组成部分。

运行时系统在操作系统（OS）上创建一个层，该层包含处理使主程序运行所需任务的其他程序。这些其他程序处理的任务包括为主程序分配内存和调度。

当应用程序处于运行时阶段时，程序的可执行文件和程序引用的任何文件将加载到RAM中。这些可能包括用户未编写但在后台运行以使程序运行的代码。该代码被发送到计算机的处理器以转换为机器代码。然后使硬件运行该程序。这也是[程序声明周期](https://en.wikipedia.org/wiki/Program_lifecycle_phase)的最后阶段，分别是编辑时(edit time)，编译时(compile time)，链接时(link time)，分发时(distribution time)，安装时(intallation time)，装载时(load time)，运行时(run time)。

## 运行时错误

运行时错误这个词在运行软件时很常见。这是指由于任何损坏、丢失或不兼容的组件，程序无法在运行时执行的问题。

运行时错误可能有很多原因，比如：

+ 系统资源不足。系统资源不足可能导致运行时错误。例如，如果程序运行所需的内存不足，运行时环境将无法完成其工作。该程序可能会中止并返回错误消息。
+  编码错误。软件中的bug可能导致运行时错误。
+ 依赖中断。如果程序需要执行的另一个应用程序的连接中断，则可能会导致错误。

运行时环境通常会显示一个通知，说明程序崩溃的原因或错误发生的位置。程序员可能需要调试软件，手动调试或使用调试工具，以找到运行时错误的根本原因。

## 一些名词

在计算机科学中，运行时这个词有很多含义。它可以指程序的状态，某种类型的程序或程序运行的时间。当然还有其他含义：

+ 运行时系统

  运行时系统是随编程语言一起提供的执行模型的一部分的软件。它创建了上面描述的层，该层位于包含帮助运行主程序的其他程序的操作系统之上。

  运行时系统通常与运行时环境这个术语是同义的。运行时系统和运行时环境充当小型操作系统，为程序运行提供了所需的每个功能。

+ 运行时环境

  运行时环境是更广义的定义，是程序在其中执行的环境。在运行环境中，包括操作系统，硬件和内存。在 IT 操作中，更频繁地使用运行环境，而不是应用程序开发。运行时环境执行低级任务，包括并行执行、磁盘输入/输出、任务调度、垃圾回收或资源管理。它们也可以实现高级命令，如类型检查、调试和代码优化。

+ 运行时库

  运行时库是一组低级的、平台和编译器特定的例程，编译器使用它们向运行时环境发送指令，以使程序运行。

